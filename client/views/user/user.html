<div class="" ng-controller="UserCtrl" ng-init="initialize()">

    <div class="page-title"><h2>ユーザー管理</h2></div>
    
    <div class="box">
        <h4>ユーザー一覧
            <link-button-direcitve href="user/control/" name="新規登録"></link-button-direcitve>
        </h4>

        <div class="row" >
            <div class="col-md-12">
                
                <div class="panel-heading">
                    <input type="text" class="form-control" placeholder="ユーザーを絞り込みます" ng-model="userSearch" 
                        refine-directive refine-item="userList" keyword="userSearch" name-propertie="name|mailaddress|role_name" >
                </div>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>メールアドレス</th>
                            <th>ユーザー名</th>
                            <th>ロール</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in userList">
                            <td data-th="名"><a ng-href='/#/user/control/{{item.user_id}}'>{{item.name}}</a></td>
                            <td data-th="アドレス">{{item.mailaddress}}</td>
                            <td data-th="ロール">{{item.role_name}}</td>
                            <td data-th="削除">
                                <close-button-direcitve execute=remove(item.user_id)></close-button-direcitve>
                                <!--<button class="close-button" ng-click="remove(item.user_id)"><i class="fa fa-times"></i></button>-->
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>