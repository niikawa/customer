var myApp=angular.module("myApp");myApp.directive("mapDirective",["Utility",function(a){return{restrict:"AE",scope:{mapClass:"@",overlayClass:"@"},link:function(b,c,d){function e(b){var c=new GMaps({div:"#"+d.id,lat:b.coords.latitude,lng:b.coords.longitude,zoom:18});c.addMarker({lat:b.coords.latitude,lng:b.coords.longitude,animation:google.maps.Animation.BOUNCE,click:function(){var d=new google.maps.Geocoder,e=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);d.geocode({latLng:e},function(b,d){d==google.maps.GeocoderStatus.OK&&b[1]?(a.info(b[1].formatted_address),c.setZoom(17)):a.warning("対象の住所は存在しません")})}})}function f(b){var c="";switch(b.code){case b.POSITION_UNAVAILABLE:c="位置情報の取得ができませんでした。";break;case b.PERMISSION_DENIED:c="位置情報取得の使用許可がされませんでした。";break;case b.PERMISSION_DENIED_TIMEOUT:c="位置情報取得中にタイムアウトしました。"}a.errorSticky(c)}return void 0===d.id?!1:navigator.geolocation?(c.addClass(b.mapClass),void navigator.geolocation.getCurrentPosition(e,f)):(a.errorSticky("ご利用のブラウザでは位置情報を取得できません。"),!1)}}}]);