var authServices=angular.module("AuthServices",["ngResource","ngCookies"]);authServices.factory("Auth",["$resource","$http","$location","$cookies","Utility","Shared",function(a,b,c,d,e,f){var g={};return g.login=function(a){var c=b.post("/auth/login",{mailAddress:a.mailAddress,password:a.password}).success(function(b){a.remember&&(d.remembertkn=a.remembertkn),f.set("id",b.data[0].user_id),f.set("userName",b.data[0].name),f.set("role",b.data[0].role_id)});return c},g.setLoginStatus=function(a){var d=b.post("api/setStatus",{id:a}).success(function(){c.path("/")}).error(function(a){e.errorSticky(a)});return d},g.isLogin=function(){var a=b.post("api/isLogin",{}).success(function(){return!0}).error(function(a){e.errorSticky(a)});return a},g.logout=function(){var a=b.post("auth/logout",{}).success(function(){c.path("/login")}).error(function(a){e.errorSticky(a)});return a},g}]),authServices.factory("AutoAuth",["$window","$http","$q",function(a,b,c){var d=c.defer();b.post("api/auth",{}).success(function(){return d.promise}).error(function(){a.location.href="https://"+location.host})}]);