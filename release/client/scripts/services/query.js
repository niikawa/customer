var queryServices=angular.module("QueryServices",["ngResource"]);queryServices.factory("Query",["$resource","$http","Shared",function(a,b,c){var d={};return d.sql="",d.resource=a("/query",{id:"@id"},{getQuery:{method:"GET",url:"/query/get"},getList:{method:"GET",url:"/query/list"},getControlInit:{method:"GET",url:"/query/control/:id"},create:{method:"POST",url:"/query/create"},remove:{method:"DELETE",url:"/query/:id"},getUseSegment:{method:"GET",url:"/query/use/segment/:id"},executeQuery:{method:"POST",url:"/query/execute"}}),d.getContentsByColumsType=function(a){var b={inputType:""};return console.log(a),"INT"===a?b.inputType="number":"VARCHAR"===a?b.inputType="text":"DATETIME"===a&&(b.inputType="date"),b.inputType},d.createCondtionString=function(a){angular.forEach(a,function(a){a.selectedCondition.condtionString=void 0===a.condition.value2||""===a.condition.value2?a.condition.value1+""+a.selectedCondition.name:a.condition.value1+"から"+a.condition.value2+a.selectedCondition.name})},d.getTables=function(a){var b={};return angular.forEach(a,function(a){void 0===b[a.table.physicalname]&&(b[a.table.physicalname]=[]);var c={column:a.column.physicalname,conditionType:a.selectedCondition.value,values:a.condition};b[a.table.physicalname].push(c)}),b},d.getRefTabels=function(a){var b=[];return angular.forEach(a,function(a){b.push(a)}),b},d.getReturnURL=function(){var a=c.getRoot(),b=a.length,d=a[a.length-1],e="";if("query list"===d)e="/query/list";else if("query list"===d)e="/segment/control";else for(b;b>0;b--){if("query list"===a[b]){e="/query/list";break}if("segment control"===a[b]){e="/segment/control";break}}return e},d}]);