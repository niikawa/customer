var bugServices=angular.module("BugServices",["ngResource"]);bugServices.factory("Bug",["$resource","Utility","Upload",function(a,b,c){var d={};return d.categoryList=[{name:"ダッシュボード",type:1},{name:"トリガーシナリオ管理",type:2},{name:"スケジュールシナリオ管理",type:3},{name:"セグメント管理",type:4},{name:"クエリー管理",type:5},{name:"アプローチ管理",type:6},{name:"ユーザー管理",type:7},{name:"操作履歴",type:8},{name:"その他",type:99}],d.resource=a("/bug/",{},{getByConditon:{method:"POST",url:"/bug"},resolve:{method:"GET",url:"/bug/resolve/:id"},save:{method:"POST",url:"/bug/save"},saveComment:{method:"POST",url:"/bug/save/comment"},getComment:{method:"GET",url:"/bug/comment/:id"},vote:{method:"GET",url:"/bug/vote/:id"},download:{method:"GET",url:"/bug/download/:id"}}),d.commentSaveAndUpload=function(a,b,d){c.upload({url:"/bug/save/comment/upload/",file:a,data:{data:b}}).success(function(){d(null)}).error(function(){d("通信エラー")})},d.saveAndUpload=function(a,b,d){c.upload({url:"/bug/save/upload/",file:a,data:{data:b}}).success(function(){d(null)}).error(function(){d("通信エラー")})},d.addViewInfo=function(a){angular.forEach(a,function(a){switch(a.category){case 1:a.category_name="ダッシュボード";break;case 2:a.category_name="トリガーシナリオ管理";break;case 3:a.category_name="スケジュールシナリオ管理";break;case 4:a.category_name="セグメント管理";break;case 5:a.category_name="クエリー管理";break;case 6:a.category_name="アプローチ管理";break;case 7:a.category_name="ユーザー管理";break;case 8:a.category_name="操作履歴";break;default:a.category_name="その他"}a.type_name=1===a.type?"要望":"バグ",a.resolve_name=1===a.resolve?"解決":"未解決"})},d}]);