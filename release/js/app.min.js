var myApp=angular.module("myApp");myApp.config(["$httpProvider","$routeProvider",function(a){a.interceptors.push(function(a,b,c){return{request:function(a){return b.$broadcast("requestStart"),a.requestTimestamp=(new Date).getTime(),a},requestError:function(){b.$broadcast("requestEnd")},response:function(a){return b.$broadcast("requestEnd"),a.config.responseTimestamp=(new Date).getTime(),a},responseError:function(d){return b.$broadcast("requestEnd"),400<=d.status&&500>d.status?c.errorSticky("通信に失敗しました"):500<=d.status&&511===d.status&&c.errorSticky(d.data?d.data:"システムエラーが発生しました"),a.reject(d)}}})}]);