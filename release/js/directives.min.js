var myApp=angular.module("myApp");myApp.directive("spinnerDirective",[function(){return{restrict:"E",scope:{is:"=",src:"@"},template:'<div ng-show="is"><img ng-src="{{src}}"></div>',link:function(){}}}]);var myApp=angular.module("myApp");myApp.directive("closeButtonDirecitve",["Shared","Utility",function(a,b){return{restrict:"E",scope:{execute:"&"},template:'<button ng-if="isShowMine" class="close-button" ng-click="click()"><i class="fa fa-times"></i></button>',link:function(c){c.isShowMine=3!=a.get("role")?!0:!1,c.click=function(){b.confirmAlert(c.execute)}}}}]);var myApp=angular.module("myApp");myApp.directive("linkButtonDirecitve",["Shared",function(a){return{restrict:"E",scope:{href:"@",name:"@"},template:'<a ng-if="isShowMine" class="btn btn-default" ng-href="/#/{{href}}">{{name}}</a> ',link:function(b){b.isShowMine=3!=a.get("role")?!0:!1,b.click=function(){b.execute()}}}}]);var myApp=angular.module("myApp");myApp.directive("pushDirective",[function(){return{restrict:"A",scope:{list:"=",pushInfo:"=info",active:"=",activekey:"@",multiple:"="},link:function(a,b){if(b.css({cursor:"pointer"}),void 0!==a.active){var c=!1;"boolean"==typeof a.active?(a.pushInfo.isPush=a.active,c=a.active):("string"==typeof a.active||"number"==typeof a.active)&&a.pushInfo[a.activekey]==a.active&&(a.pushInfo.isPush=!0,c=!0),c&&b.addClass("push-active")}else a.pushInfo.isPush=!1;b.on("click",function(){a.$apply(function(){b.hasClass("push-active")?(a.pushInfo.isPush=!1,b.removeClass("push-active")):(void 0!==a.multiple&&a.multiple||(b.parent().children().removeClass("push-active"),angular.forEach(a.list,function(a){a.isPush=!1})),a.pushInfo.isPush=!0,b.addClass("push-active"))})})}}}]);var myApp=angular.module("myApp");myApp.directive("autoCompleteDirective",[function(){return{restrict:"E",scope:{selectedItem:"=",itemList:"=",execute:"&",namePropertie:"@",appendString:"@",showLabel:"=",selectByList:"=",selectName:"="},template:'<form class="navbar-form navbar-left"><input ng-show="!isLabel" class="form-control d-complete-input" ng-model="selectName"><span ng-show="isLabel && selectName.length != 0" ng-click="changeElement()">{{appendString}}{{selectName}}</span><ul class="complete-list" ng-show="isFocus"><li ng-repeat="item in itemList" ng-click="click($event, item)" >{{item[namePropertie]}}</li></ul></form>',replace:!0,link:function(a,b){a.selectName="",a.isFocus=!1,a.isLabel=!1;var c=[];a.$watch("itemList",function(b,d){if(void 0!==b&&void 0!==d){if(console.log("watch itemList"),b.length===d.length)return!1;b.length>d.length?c=angular.copy(b):b.length<d.length&&(c=angular.copy(d))}else void 0!==a.itemList&&(console.log("set initialize data"),angular.copy(a.itemList,c))}),b.find("input").on("focus",function(){0<a.itemList.length&&a.$apply(function(){a.isFocus=!0})}),b.find("input").on("blur",function(){var d=setInterval(function(){a.$apply(function(){if(a.selectByList){for(var d=c.length,e=0===a.selectName.length?!0:!1,f=0;d>f;f++)if(a.selectName===c[f][a.namePropertie]){e=!0;break}e?b.find("input").removeClass("auto-complete-item-error"):b.find("input").addClass("auto-complete-item-error"),a.isFocus=!1}}),clearInterval(d)},300)}),b.find("input").on("keyup",function(){0===c.length&&angular.copy(a.itemList,c);var b=[];if(0<a.itemList.length&&(a.isFocus=!0),0===a.selectName.length)angular.copy(c,b);else for(var d=c.length,e=0;d>e;e++)-1!==c[e][a.namePropertie].indexOf(a.selectName)&&b.push(angular.copy(c[e]));a.$apply(function(){angular.copy(b,a.itemList)})}),a.click=function(c,d){c.preventDefault(),c.stopPropagation(),angular.copy(d,a.selectedItem),b.find("input").removeClass("auto-complete-item-error"),a.isFocus=!1,void 0!==a.execute&&a.execute(),a.showLabel&&(a.isLabel=!0),a.selectName=d[a.namePropertie]},a.changeElement=function(){angular.copy(c,a.itemList),a.isLabel=!1,b.find("input").focus()}}}}]);